%% APS502 Project Part 1
% excess cash generation
r=.02; %interest rate of reinvestment
c=[102.44; 99.95; 100.02; 102.66; 87.90; 85.43; 83.42; 103.82; 
    110.29; 108.85; 109.95; 107.36; 104.62; 99.07; 103.78; 64.66;
    0; 0; 0; 0; 0; 0; 0; 0;]; %price of the bonds + 0-packing for reinvestment
Aeq = [105.625 4.75   4.25   5.25    0     0     0     5.75    6.875   6.5     6.625   6.125   5.625   4.75    5.5     0     -1    0     0     0     0     0     0     0;
       0       104.75 104.25 5.25    0     0     0     5.75    6.875   6.5     6.625   6.125   5.625   4.75    5.5     0     (1+r) -1    0     0     0     0     0     0;
       0       0      0      105.25  100   0     0     5.75    6.875   6.5     6.625   6.125   5.625   4.75    5.5     0     0     (1+r) -1    0     0     0     0     0;
       0       0      0      0       0     100   0     5.75    6.875   6.5     6.625   6.125   5.625   4.75    5.5     0     0     0     (1+r) -1    0     0     0     0;
       0       0      0      0       0     0     100   105.75  6.875   6.5     6.625   6.125   5.625   4.75    5.5     0     0     0     0     (1+r) -1    0     0     0;
       0       0      0      0       0     0     0     0       106.875 106.5   6.625   6.125   5.625   4.75    5.5     0     0     0     0     0     (1+r) -1    0     0;
       0       0      0      0       0     0     0     0       0       0       106.625 106.125 5.625   4.75    5.5     0     0     0     0     0     0     (1+r) -1    0;
       0       0      0      0       0     0     0     0       0       0       0       0       105.625 104.75  5.5     0     0     0     0     0     0     0     (1+r) -1;
       0       0      0      0       0     0     0     0       0       0       0       0       0       0       105.5   100   0     0     0     0     0     0     0     (1+r);
       ];
beq = [24000000; 26000000; 28000000; 28000000; 26000000; 29000000; 32000000; 33000000; 34000000;];

lb = [0;       0;     0;     0;      0;    0;    0;    0;      0;      0;      0;      0;      0;      0;      0;      0;    0;    0;    0;    0;    0;    0;    0;    0;];

[x_bond, f_bond] = linprog(c, [], [], Aeq, beq, lb, []);